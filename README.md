# SLR-parser

- [SLR-parser](#slr-parser)
  - [–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—Å–±–æ—Ä–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
    - [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
    - [–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](#–ø–æ—à–∞–≥–æ–≤–∞—è-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
      - [1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–¥–ª—è Ubuntu/WSL)](#1-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-–¥–ª—è-ubuntuwsl)
      - [2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–±–æ—Ä–∫–∞](#2-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–∏-—Å–±–æ—Ä–∫–∞)
      - [3. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞](#3-–∑–∞–ø—É—Å–∫-–ø–∞—Ä—Å–µ—Ä–∞)
      - [4. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤](#4-–∑–∞–ø—É—Å–∫-—Ç–µ—Å—Ç–æ–≤)
  - [üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
  - [üìñ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
    - [–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–∫–ª—é—á–µ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
  - [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-–ø—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã)
    - [1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ (Code Generation)](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–≥—Ä–∞–º–º–∞—Ç–∏–∫–∏-code-generation)
    - [2. –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (Lexer)](#2-–ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π-–∞–Ω–∞–ª–∏–∑-lexer)
    - [3. –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (SLR Parser)](#3-—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π-–∞–Ω–∞–ª–∏–∑-slr-parser)
    - [–°—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö](#—Å—Ö–µ–º–∞-–ø–æ—Ç–æ–∫–∞-–¥–∞–Ω–Ω—ã—Ö)
  - [Action Table](#action-table)
  - [–¥–Ω–µ–≤–Ω–∏–∫ / –º–∏–Ω–∏ –∑–∞–ø–∏—Å–∏](#–¥–Ω–µ–≤–Ω–∏–∫--–º–∏–Ω–∏-–∑–∞–ø–∏—Å–∏)
  - [TODO:](#todo)
- [–Ω–µ–¥–æ–¥–µ–ª–∞–Ω–Ω–∞—è —á–∞—Å—Ç—å —Å —Ç–µ–æ—Ä–∏–µ–π](#–Ω–µ–¥–æ–¥–µ–ª–∞–Ω–Ω–∞—è-—á–∞—Å—Ç—å-—Å-—Ç–µ–æ—Ä–∏–µ–π)
  - [LR(k) –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞](#lrk-–≥—Ä–∞–º–º–∞—Ç–∏–∫–∞)
  - [SLR-parser](#slr-parser-1)
    - [DFA](#dfa)
      - [Items](#items)
      - [Closure](#closure)
      - [GOTO](#goto)
    - [–û–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ (Actions)](#–æ–ø–µ—Ä–∞—Ü–∏–∏-–∫–æ–Ω–µ—á–Ω–æ–≥–æ-–∞–≤—Ç–æ–º–∞—Ç–∞-actions)
    - [Reduce](#reduce)
    - [SLR-table](#slr-table)
    - [–í–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ SLR –ø–∞—Ä—Å–µ—Ä–∞](#–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏-slr-–ø–∞—Ä—Å–µ—Ä–∞)
    - [–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è](#–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
    - [–ö–æ–Ω–µ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ(—É—Å–ø–µ—Ö):](#–∫–æ–Ω–µ—á–Ω–æ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ—É—Å–ø–µ—Ö)


## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É —Å–±–æ—Ä–∫–∏ **CMake** (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è 3.14). –î–ª—è —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä C++17, Flex –∏ –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (–¥–ª—è –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç–µ—Å—Ç–æ–≤ Google Test).

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
* **–û–°:** Linux, macOS –∏–ª–∏ Windows (—á–µ—Ä–µ–∑ WSL).
* **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä:** GCC/G++ 9+ –∏–ª–∏ Clang 10+ (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π C++17).
* **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** cmake, make, flex.
* **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  * libfl (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Flex).
  * Google Test (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏).

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–¥–ª—è Ubuntu/WSL)
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
sudo apt-get update
sudo apt-get install build-essential cmake flex libfl-dev
```

#### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–±–æ—Ä–∫–∞
–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–±–æ—Ä–∫–∏, —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ —Å–æ–±–µ—Ä–∏—Ç–µ –µ–≥–æ:
```bash
mkdir build
cd build
cmake ..
make
```

#### 3. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞
–ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ build/src/SLR/. –ü–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ (–≤–≤–æ–¥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–æ—á–µ—Ç–∞–Ω–∏–µ–º –∫–ª–∞–≤–∏—à Ctrl+D –Ω–∞ Linux/Mac –∏–ª–∏ Ctrl+Z –Ω–∞ Windows).
```bash
./src/SLR/slr_parser
```

#### 4. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞–±–æ—Ä End-to-End —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏—Ö –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑, —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É ctest –∏–∑ –ø–∞–ø–∫–∏ build:
```bash
ctest --output-on-failure

##–ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:
ctest -R ParenthesesAndPrecedence --output-on-failure

##–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:
Test project /path/to/SLR-parser/build
    Start 1: ParserE2ETest.SimpleAddition
1/6 Test #1: ParserE2ETest.SimpleAddition ...............   Passed    0.01 sec
    Start 2: ParserE2ETest.MultiplicationPrecedence
2/6 Test #2: ParserE2ETest.MultiplicationPrecedence ....   Passed    0.01 sec
...
100% tests passed, 0 tests failed out of 6
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –º–æ–¥—É–ª—å–Ω–æ, —Ä–∞–∑–¥–µ–ª—è—è —ç—Ç–∞–ø—ã –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞–º–º–∞—Ç–∏–∫ –∏ —Å–∞–º–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞.

```text
SLR-parser/
‚îú‚îÄ‚îÄ CMakeLists.txt          # –ö–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ scripts/                # üõ† –°–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ generate_grammar.rb # Ruby-—Å–∫—Ä–∏–ø—Ç: –ø–∞—Ä—Å–∏—Ç –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç C++ –∑–∞–≥–æ–ª–æ–≤–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ data/                   # üìä –î–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ grammar.txt         # –ò—Å—Ö–æ–¥–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ (BNF)
‚îÇ   ‚îî‚îÄ‚îÄ slr_cache.json      # –ö—ç—à —Ç–∞–±–ª–∏—Ü ACTION/GOTO (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ
‚îú‚îÄ‚îÄ src/                    # üìÇ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ C++
‚îÇ   ‚îú‚îÄ‚îÄ lexer/              # –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lexer.l         # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è Flex
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lexer_global.cpp# –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ª–µ–∫—Å–µ—Ä–∞ (yylval)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ token_struct.hpp# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Token (—Ç–∏–ø, –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ–∑–∏—Ü–∏—è)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ token_type.hpp  # Enum TokenType (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∞–ª–∏–∞—Å –Ω–∞ Symbol)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ grammar/            # –ú–æ–¥—É–ª—å —Ä–∞–±–æ—Ç—ã —Å –≥—Ä–∞–º–º–∞—Ç–∏–∫–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ first_follow.cpp# –ê–ª–≥–æ—Ä–∏—Ç–º—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤ First –∏ Follow
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ items.cpp       # –†–∞–±–æ—Ç–∞ —Å –ø–æ–∑–∏—Ü–∏—è–º–∏ (LR(0)-items)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ symbol_utils.cpp# –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å–∏–º–≤–æ–ª–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ generated/      # ‚ö†Ô∏è –ê–í–¢–û–ì–ï–ù–ï–†–ò–†–£–ï–ú–´–ï –§–ê–ô–õ–´ (–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å!)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ grammar_rules.cpp # –í–µ–∫—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª –ø—Ä–æ–¥—É–∫—Ü–∏–∏
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ symbol_enums.hpp  # Enum –≤—Å–µ—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ –∏ –Ω–µ—Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ SLR/                # –Ø–¥—Ä–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞
‚îÇ       ‚îú‚îÄ‚îÄ main.cpp        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: —Å–≤—è–∑–∫–∞ Lexer + Parser
‚îÇ       ‚îú‚îÄ‚îÄ slr_parser.cpp  # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–∞–∑–±–æ—Ä–∞ (Shift/Reduce)
‚îÇ       ‚îú‚îÄ‚îÄ slr_parser_dump.cpp # –§—É–Ω–∫—Ü–∏–∏ –≤—ã–≤–æ–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞)
‚îÇ       ‚îú‚îÄ‚îÄ table_builder.cpp   # –ü–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å —Ç–∞–±–ª–∏—Ü ACTION –∏ GOTO
‚îÇ       ‚îî‚îÄ‚îÄ slr_parser.hpp      # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–ª–∞—Å—Å–∞ –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ tests/                  # üß™ –ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ CMakeLists.txt      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ parser_e2e_test.cpp # End-to-End —Ç–µ—Å—Ç—ã (Google Test)
‚îÇ
‚îî‚îÄ‚îÄ build/                  # üèó –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–±–æ—Ä–∫–∏ (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ git)
    ‚îú‚îÄ‚îÄ src/SLR/slr_parser  # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –ø–∞—Ä—Å–µ—Ä–∞
    ‚îî‚îÄ‚îÄ tests/parser_tests  # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Ç–µ—Å—Ç–æ–≤
```

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é **—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ (–ø–∞—Ä—Å–µ—Ä–∞)**, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É **SLR(1)** (Simple LR). –ü–∞—Ä—Å–µ—Ä –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π, –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Ö —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏–π (—Å–¥–≤–∏–≥/—Å–≤–µ—Ä—Ç–∫–∞) –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞–Ω–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-—Å–≤–æ–±–æ–¥–Ω–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **C++17** –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞: –æ—Ç –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

(—ç—Ç–æ –Ω–∞–±—Ä–æ—Å–æ–∫ –æ—Ç –Ω–µ–π—Ä–æ–Ω–∫–∏)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–ü—Ä–æ–µ–∫—Ç –º–æ–¥—É–ª—å–Ω—ã–π –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: –õ–µ–∫—Å–µ—Ä, –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–∞–±–ª–∏—Ü –∏ –ü–∞—Ä—Å–µ—Ä.

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ (Code Generation)

**–í–æ—Ç —ç—Ç–∞ —á–∞—Å—Ç—å –∫–æ–¥–∞ –Ω–∞ Ruby –Ω–µ up2date!**

–ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π C++ –∫–æ–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —ç—Ç–∞–ø –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.
*   **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** –°–∫—Ä–∏–ø—Ç –Ω–∞ —è–∑—ã–∫–µ **Ruby** (`scripts/generate_grammar.rb`).
*   **–ü—Ä–æ—Ü–µ—Å—Å:** –°–∫—Ä–∏–ø—Ç —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–∞–≤–∏–ª –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç C++ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é [`src/grammar/generated/`](src/grammar/generated/).
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
    *   `symbol_enums.hpp`: Enum-—ã –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ –∏ –Ω–µ—Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤.
    *   `grammar_rules.cpp`: –í–µ–∫—Ç–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä `Rule`, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –ø—Ä–æ–¥—É–∫—Ü–∏—é –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.
    *   –≠—Ç–∏ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä—Å–µ—Ä–æ–º –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤ –ø–æ–∑–∏—Ü–∏–π (items) –∏ —Ç–∞–±–ª–∏—Ü —Ä–∞–∑–±–æ—Ä–∞.

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å Ruby-—Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π –ø—Ä–æ–µ–∫—Ç–∞.

### 2. –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (Lexer)
–ú–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Ç–æ–∫–µ–Ω—ã.
*   **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –§–∞–π–ª [`lexer.l`](src/lexer/lexer.l) –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤.
*   **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:** –£—Ç–∏–ª–∏—Ç–∞ **Flex** –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç `.l` —Ñ–∞–π–ª –≤ C++ –∫–æ–¥ (`lexer.cpp`).
*   **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–æ–∫–µ–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ–¥–∏–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `Token`, —Ö—Ä–∞–Ω—è—â–∞—è —Ç–∏–ø (`Symbol`), —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–ª—è –ª–∏—Ç–µ—Ä–∞–ª–æ–≤) –∏ –ø–æ–∑–∏—Ü–∏—é –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ (—Å—Ç—Ä–æ–∫–∞/–∫–æ–ª–æ–Ω–∫–∞).

### 3. –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (SLR Parser)
–Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–µ –≤ [`src/SLR/`](src/SLR/).
*   **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü:** –ö–ª–∞—Å—Å `TableBuilder` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞ First/Follow, —Å—Ç—Ä–æ–∏—Ç –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É –º–Ω–æ–∂–µ—Å—Ç–≤ –ø–æ–∑–∏—Ü–∏–π (DFA) –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—ã ACTION –∏ GOTO.
    *   –¢–∞–±–ª–∏—Ü—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ JSON-—Ñ–∞–π–ª (`data/slr_cache.json`) –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—É—Å–∫–∞.
*   **–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑–±–æ—Ä–∞:**
    1.  –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–µ–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ —Å—Ç–µ–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤.
    2.  –¶–∏–∫–ª —á—Ç–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏–∑ –ª–µ–∫—Å–µ—Ä–∞.
    3.  –ü–æ–∏—Å–∫ –¥–µ–π—Å—Ç–≤–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ –ø–æ —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏ —Ç–æ–∫–µ–Ω—É.
    4.  –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
        *   **Shift:** –°–¥–≤–∏–≥ —Ç–æ–∫–µ–Ω–∞ –∏ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Å—Ç–µ–∫.
        *   **Reduce:** –°–≤–µ—Ä—Ç–∫–∞ –≥—Ä—É–ø–ø—ã —Å–∏–º–≤–æ–ª–æ–≤ –≤ –Ω–µ—Ç–µ—Ä–º–∏–Ω–∞–ª —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª—É –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.
        *   **Accept:** –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ.
        *   **Error:** –í—ã–±—Ä–æ—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–∑–∏—Ü–∏–∏ –æ—à–∏–±–∫–∏.

### –°—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```mermaid
graph LR
    A[Grammar File] -->|Ruby Script| B(Generated C++ Headers)
    C[Source Code] -->|Flex| D(Lexer C++ Code)
    B --> E[Parser Core]
    D --> E
    E --> F{Action Table}
    F -->|Cache JSON| G[Runtime Execution]
    G --> H[Parse Tree / Error Report]
```

## Action Table

–ü–æ–ª—É—á–µ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞ (—Å–º. [–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞](./src/grammar/data/)).

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –¥–ª—è —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞.
*   **S** = Shift (–°–¥–≤–∏–≥)
*   **R** = Reduce (–°–≤–µ—Ä—Ç–∫–∞)
*   **A** = Accept (–î–æ–ø—É—Å–∫)
*   **-** = –û—à–∏–±–∫–∞ (Error)

| State | PLUS | MINUS | STAR | SLASH | LPAREN | RPAREN | NUMBER | VAR | END_MARKER |
|:-----:|:----:|:-----:|:----:|:-----:|:------:|:------:|:------:|:---:|:----------:|
| **0** | - | - | - | - | S4 | - | S5 | S6 | - |
| **1** | S7 | S8 | - | - | - | - | - | - | **A** |
| **2** | R6 | R6 | R6 | R6 | - | R6 | - | - | R6 |
| **3** | R3 | R3 | S9 | S10 | - | R3 | - | - | R3 |
| **4** | - | - | - | - | S4 | - | S5 | S6 | - |
| **5** | R7 | R7 | R7 | R7 | - | R7 | - | - | R7 |
| **6** | R8 | R8 | R8 | R8 | - | R8 | - | - | R8 |
| **7** | - | - | - | - | S4 | - | S5 | S6 | - |
| **8** | - | - | - | - | S4 | - | S5 | S6 | - |
| **9** | - | - | - | - | S4 | - | S5 | S6 | - |
| **10** | - | - | - | - | S4 | - | S5 | S6 | - |
| **11** | S7 | S8 | - | - | - | S16 | - | - | - |
| **12** | R1 | R1 | S9 | S10 | - | R1 | - | - | R1 |
| **13** | R2 | R2 | S9 | S10 | - | R2 | - | - | R2 |
| **14** | R4 | R4 | R4 | R4 | - | R4 | - | - | R4 |
| **15** | R5 | R5 | R5 | R5 | - | R5 | - | - | R5 |
| **16** | R9 | R9 | R9 | R9 | - | R9 | - | - | R9 |


##  –¥–Ω–µ–≤–Ω–∏–∫ / –º–∏–Ω–∏ –∑–∞–ø–∏—Å–∏

—Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ grammar_gen.rb –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –≤ grammar.txt –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ /grammar/generated:
- enum Symbol –≤ symbol_enums.hpp
- –≤–µ–∫—Ç–æ—Ä –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∞–≤–∏–ª –≤ grammar_rules.cpp

—Ç–æ–∫–µ–Ω—ã: –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –≤ grammar/tokens_def.rb –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è enum-—ã —Ç–æ–∫–µ–Ω–æ–≤ –≤ C++.

–ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä—É—á–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–ø–∏—Å–∞–Ω–∏–π Symbol, Token, –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –ª–µ–∫—Å–∏–∫–∏ –≤ lexer.l.



## TODO:

- –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏ –≥–¥–µ –≤–æ–æ–±—â–µ –∫–æ–≥–µ—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –Ω—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- —Ç–µ—Å—Ç—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—Ä—Å–µ—Ä, –Ω–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü —Ç–µ—Å—Ç –º–æ–∂–Ω–æ –≤ —Ü–µ–ª–æ–º —Ç–æ–∂–µ
- –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –±—ã –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —Å –º–∏–Ω–∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –º–æ—Ç–∏–≤–∞—Ü–∏–∏ —Ä–µ—à–µ–Ω–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö, —è–∑—ã–∫–æ–≤—ã—Ö –∏ —Ç.–¥.
- —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–º–µ—Ä–Ω–æ –≤—Å–µ–≥–æ?
- –æ–ø–∏—Å–∞–Ω–∏–µ –±—ã –∞–¥–µ–∫–≤–∞—Ç–Ω–æ–µ —Å–¥–µ–ª–∞—Ç—å
- –ø–ª–∞–Ω 200%: —Å–¥–µ–ª–∞—Ç—å Panic mode –∏ error recovery


# –Ω–µ–¥–æ–¥–µ–ª–∞–Ω–Ω–∞—è —á–∞—Å—Ç—å —Å —Ç–µ–æ—Ä–∏–µ–π

## LR(k) –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞

LR(k) (Left-toRight scanning, Rightmost derivation in reverse, k-lookahead) - –∫–ª–∞—Å—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-—Å–≤–æ–±–æ–¥–Ω—ã—Ö –≥—Ä–∞–º–º–∞—Ç–∏–∫, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–æ—Å—Ö–æ–¥—è—â–µ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞.

–í–æ—Å—Ö–æ–¥—è—â–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

1. Input (—É–∂–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–π –≤—Ö–æ–¥, –Ω–µ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ k —Å–∏–º–≤–æ–ª–æ–≤ –≤–ø–µ—Ä–µ–¥)
2. Stack (—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å—Ç—ç–∫–∞)

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ LR(1) - SLR(1) –¥–ª—è —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π –≤–≤–∏–¥—É –ø—Ä–æ—Å—Ç–æ—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å LR(1).

## SLR-parser

–í –¥–∞–Ω–Ω–æ–º –º–µ—Ç–æ–¥–µ —Ä–∞–∑–±–æ—Ä–∞ –≤—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ "—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è" (–æ–ø–µ—Ä–∞—Ü–∏—è "reduce") –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–∞–º –∫ –Ω–µ—Ç–µ—Ä–º–∏–Ω–∞–ª–∞–º, –ø–æ–∫–∞ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –Ω–∞—á–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.


### DFA

–î–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ø—Ä–∞–≤—ã—Ö –ø–æ—Ä–æ–∂–¥–µ–Ω–∏–π –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç, –≥–¥–µ
- –°–æ—Å—Ç–æ—è–Ω–∏—è DFA: –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø—É–Ω–∫—Ç–æ–≤ (items) —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º
- –ü–µ—Ä–µ—Ö–æ–¥—ã: GOTO(I, X), –≥–¥–µ X - —Å–∏–º–≤–æ–ª –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏

–ö–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç –∑–¥–µ—Å—å –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç –≤—Å–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏.


#### Items

–ü—É–Ω–∫—Ç(Item) - –ø—Ä–∞–≤–∏–ª–æ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ —Å —Ç–æ—á–∫–æ–π ( . ), –ø–æ–∫–∞–∑—ã–≤–∞—é—â–µ–π, –¥–æ –∫–∞–∫–æ–≥–æ –º–µ—Å—Ç–∞ —É–∂–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ.

–¢.–µ. —ç—Ç–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤–≤–µ–¥–µ–Ω–∞ –∫–∞–∫ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ.

–ü—Ä–∏–º–µ—Ä:

–î–ª—è –ø—Ä–∞–≤–∏–ª–∞:
```cpp
E -> E + T
```
–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—É–Ω–∫—Ç—ã:
```cpp
E -> . E + T    // –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ
E -> E . + T    // —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ E
E -> E + . T    // —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ E +
E -> E + T .    // –≤—Å–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ —Å–≤–µ—Ä—Ç–∫–µ
```

–° –ø–æ–º–æ—â—å—é –ø—É–Ω–∫—Ç–æ–≤ –º–æ–∂–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–∞, –æ—Ç—Å—é–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –º–æ–¥–µ–ª—å –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ (DFA - Deterministic Finite Automaton).

–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π - —ç—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ(closure) –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤

#### Closure

–ó–∞–º—ã–∫–∞–Ω–∏–µ(closure) - –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–¥ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø—É–Ω–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –¥–ª—è –ø—É–Ω–∫—Ç–æ–≤ –≤–∏–¥–∞

```cpp
A -> a . B b
```

–î–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –ø—É–Ω–∫—Ç—ã –≤–∏–¥–∞

```cpp
B -> . y
```

–ü—Ä–º–∏–µ—Ä:

–ò—Å—Ö–æ–¥–Ω—ã–π –ø—É–Ω–∫—Ç:

```cpp
E -> . T
```

–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –ø—Ä–∞–≤–∏–ª

```cpp
T -> T * P
T -> P
```

 closure –¥–æ–±–∞–≤–∏—Ç:

```cpp
T -> . T * P
T -> . P
P -> . ...
```

–ß–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤.

#### GOTO

GOTO - —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ LR(0) –∞–≤—Ç–æ–º–∞—Ç–∞ –ø–æ –Ω–µ—Ç–µ—Ä–º–∏–Ω–∞–ª–∞–º.

GOTO(I, X) - —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–µ –º—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è I –ø–æ —Å–∏–º–≤–æ–ª—É X, –≥–¥–µ X - –Ω–µ—Ç–µ—Ä–º–∏–Ω–∞–ª.

–ü—Ä–∏–º–µ—Ä:
```cpp
I = {               // —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    E -> T .,
    T -> T . * P
}

GOTO(I, *) = { T -> T * . P } // —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø–æ '*'

```

—Ç.–µ. —ç—Ç–æ –∫–∞–∫ –±—ã —Å–¥–≤–∏–≥ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª.


### –û–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ (Actions)
| Action | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|
| Shift  | –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∏–º–≤–æ–ª–∞ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –≤–µ—Ä—à–∏–Ω—É —Å—Ç—ç–∫–∞ |
| Reduce | –µ—Å–ª–∏ –≤–µ—Ä—à–∏–Ω–∞ —Å—Ç—ç–∫–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Å–µ–Ω—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–æ–π, –∑–∞–º–µ–Ω—è–µ–º –ø–æ—Ä–æ–∂–¥–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—É—é. –¢.–µ. –µ—Å–ª–∏ –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ —Å—Ç—ç–∫–∞ **a**, —Å–æ–≤–ø–∞–¥–∞—é—â–µ–µ —Å –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç—å—é –ø—Ä–∞–≤–∏–ª–∞ **A -> a**, –∑–∞–º–µ–Ω—è–µ–º **a** –Ω–∞ **A** –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ —Å—Ç—ç–∫–∞ |
| Accept | —Å—Ç—Ä–æ–∫—É —É–¥–∞–ª–æ—Å—å —Å–º–∞—Ç—á–∏—Ç—å –¥–æ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ |
| Error  | –æ—à–∏–±–∫–∞, –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ |


----------------- –∑–¥–µ—Å—å –ø—Ä–æ –º–æ–¥–µ–ª—å –∫–æ–Ω–µ—á–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ –¥–æ–±–∞–≤–∏—Ç—å



---- –¥–æ–±–∞–≤–∏—Ç—å

### Reduce




### SLR-table

SLR-—Ç–∞–±–ª–∏—Ü–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–≤–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π LR(0)-–∞–≤—Ç–æ–º–∞—Ç–∞, –≥–¥–µ –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ(closure) –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø—É–Ω–∫—Ç–æ–≤


–¢–∞–±–ª–∏—Ü–∞ ACTION[state, terminal] –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å, –∫–æ–≥–¥–∞ –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ —Å—Ç–µ–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ state, –∞ —Å–ª–µ–¥—É—é—â–∏–π –≤—Ö–æ–¥–Ω–æ–π —Å–∏–º–≤–æ–ª ‚Äî terminal.
–í–æ–∑–º–æ–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: shift, reduce, accept, error.

–¢–∞–±–ª–∏—Ü–∞ GOTO[state, nonterminal] –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤ –∫–∞–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω reduce.
–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ DFA (LR(0)-–∞–≤—Ç–æ–º–∞—Ç–∞) –ø–æ —Å–∏–º–≤–æ–ª—É-–Ω–µ—Ç–µ—Ä–º–∏–Ω–∞–ª—É.

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ SLR –ø–∞—Ä—Å–µ—Ä–∞

SLR –ø–∞—Ä—Å–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ —Å—Ç—ç–∫–∞: —Å—Ç—ç–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ —Å—Ç—ç–∫ —Å–∏–º–≤–æ–ª–æ–≤

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

State stack: —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –Ω–∞—á–∞–ª—å–Ω–æ–µ

### –ö–æ–Ω–µ—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ(—É—Å–ø–µ—Ö):

1) –Ω–∞ –≤—Ö–æ–¥–µ - EOF('$')
2) –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ —Å—Ç—ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π - —Å–æ—Å—Ç–æ—è–Ω–∏–µ start
3) –≤ —Ç–∞–±–ª–∏—Ü–µ ACTION[start]['$'] = accept

